<!DOCTYPE html>
<html lang = "en">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@40,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@40,400,0,0" />
    <link rel="stylesheet" href="DisplayCarparks.css">
    <head>
        <p class = "Headings">Available Carparks</p>
    </head>
    <body>
        <div class= "location">
            <span class="material-symbols-sharp" id = "target_location">location_on</span>
            <span id = "result_location"></span>
        </div>
        
        <div class="button_label">
            <button id = "button1" onclick="setColor('button1','button2')">Nearest</button>
            <button id = "button2" onclick="setColor('button2','button1')">Price</button>
        </div>
        
        <div>
            <button class="material-symbols-sharp" id = "favorite">favorite</button>
            <button class="material-symbols-outlined" 
                onclick="passParkingLot()">assistant_navigation    
            </button>
            <p class="button1" id = "parking_location_1"></p>
        </div>

        <div>
            <button class="material-symbols-sharp" id = "favorite">favorite</button>
            <button class="material-symbols-outlined" 
                onclick="passParkingLot()">assistant_navigation    
            </button>
            <button class="button1" id = "parking_location_2"></button>
        </div>

    </body>
    <script type = "module">
        //import sortCarParkAvail from '../entity/api/SearchByDistance.js';
        var near_place_lat = sessionStorage.getItem("near_place_lat");
        var near_place_lng = sessionStorage.getItem("near_place_lng");
        //var carParkAvail = sortCarParkAvail(near_place_lat, near_place_lng);
        

        document.getElementById("parking_location_1").innerHTML = "test";
        //document.getElementById("parking_location_2").innerHTML = carParkAvail[1];
        
    </script>
    <script type = "module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
        
        const firebaseConfig = {       
        apiKey: "AIzaSyBWImFGqsTT5oRab27BVDjzlicbegDW9qM",
        authDomain: "parkfast-23bd8.firebaseapp.com",
        databaseURL: "https://parkfast-23bd8-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "parkfast-23bd8",
        storageBucket: "parkfast-23bd8.appspot.com",
        messagingSenderId: "333155544674",
        appId: "1:333155544674:web:5cbbd8995095e3cd4c2b3b",
        measurementId: "G-5K5M61GXK1"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        
        document.getElementById("favorite").addEventListener("click", addToFavorite);
        function addToFavorite(){
            set(ref(db, "drivers/" + "testing123"), {
                username: "testing123"  
            })
            .then(()=>{
                console.log("data stored")
            })
            .catch((error)=>{
                alert("unsuccessful "+ error)
            });
        }
    </script>
    
    <script src="../control/DisplayCarparks.js">
    </script>
</html>